<!doctype html>
<html lang="de" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GymBo Training Builder</title>
  <meta name="description" content="Erstelle GymBo Workout-Templates im Browser und exportiere sie als .gymbo Datei." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://gymbo.pro/training/" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="theme-color" content="#F59E0B" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="bg-gradient"></div>
  <div class="bg-noise"></div>
  <header class="topbar">
    <div class="topbar-inner">
      <a href="/index.html" class="brand"><span>Gym</span><span class="brand-accent">Bo</span></a>
      <div class="topbar-actions">
        <a href="#community-workouts" class="btn btn-secondary">Community-Workouts</a>
        <button id="exportBtn" class="btn btn-primary">Exportieren (.gymbo)</button>
      </div>
    </div>
  </header>

  <main class="page">
    <section class="hero">
      <p class="hero-kicker">GymBo Web Tools</p>
      <h1>Training Builder</h1>
      <p>Erstelle Workout-Templates und importiere sie direkt in GymBo auf dem iPhone.</p>
      <div class="auth-row">
        <input id="authEmail" type="email" placeholder="E-Mail für Login-Link" />
        <button id="signInBtn" class="btn btn-secondary">Login-Link senden</button>
        <button id="signOutBtn" class="btn btn-secondary" hidden>Ausloggen</button>
        <a id="moderationLink" class="btn btn-secondary" href="/training/moderation.html" hidden>Moderation</a>
      </div>
      <p id="authState" class="auth-state">Nicht eingeloggt. Community-Submit/Vote/Report ist deaktiviert.</p>
      <p id="status" class="status" aria-live="polite"></p>
    </section>

    <nav class="mobile-tabs" aria-label="Builder Bereiche">
      <button class="tab-btn active" data-tab="catalog">Übungskatalog</button>
      <button class="tab-btn" data-tab="builder">Workout Builder</button>
    </nav>

    <section class="layout">
      <aside id="catalogPanel" class="panel panel-catalog active-mobile">
        <div class="panel-head">
          <h2>Übungskatalog</h2>
        </div>

        <div class="filters">
          <input id="searchInput" type="text" placeholder="Übung suchen..." />
          <select id="muscleFilter">
            <option value="">Alle Muskelgruppen</option>
          </select>
          <select id="equipmentFilter">
            <option value="">Alle Equipment-Typen</option>
          </select>
        </div>

        <div id="catalogList" class="catalog-list"></div>

        <button id="openCustomModalBtn" class="btn btn-secondary full">Eigene Übung erstellen</button>
      </aside>

      <section id="builderPanel" class="panel panel-builder">
        <div class="panel-head">
          <h2>Workout Builder</h2>
        </div>

        <div class="builder-config">
          <label>
            Workout-Name
            <input id="workoutName" type="text" placeholder="z. B. Push Day" />
          </label>

          <label>
            Typ
            <select id="workoutType">
              <option value="standard">Standard</option>
              <option value="superset">Superset</option>
              <option value="circuit">Circuit</option>
            </select>
          </label>

          <label>
            Standard-Pause (Sek.)
            <input id="defaultRest" type="number" min="30" max="300" step="5" value="90" />
          </label>
        </div>

        <div class="builder-actions">
          <button id="saveWorkoutBtn" class="btn btn-secondary">Workout sichern</button>
          <button id="submitWorkoutBtn" class="btn btn-secondary">Für Community einreichen</button>
          <button id="deleteWorkoutBtn" class="btn btn-secondary" hidden>Workout löschen</button>
        </div>

        <div class="builder-list-head">
          <h3>Übungen</h3>
          <span id="exerciseCount" class="count">0</span>
        </div>

        <ul id="workoutList" class="workout-list"></ul>

        <div class="saved-workouts">
          <div class="builder-list-head">
            <h3>Meine Workouts</h3>
            <span id="myWorkoutCount" class="count">0</span>
          </div>
          <div id="myWorkoutsList" class="catalog-list"></div>
        </div>
      </section>
    </section>

    <section id="community-workouts" class="panel community-workouts-panel">
      <div class="panel-head">
        <h2>Community-Workouts</h2>
        <span id="communityWorkoutCount" class="count">0</span>
      </div>
      <div id="communityWorkoutsList" class="catalog-list"></div>
    </section>
  </main>

  <div id="customModal" class="modal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <h3>Eigene Übung erstellen</h3>
        <button id="closeCustomModalBtn" class="icon-btn" type="button" aria-label="Schließen">x</button>
      </div>

      <form id="customExerciseForm" class="modal-form">
        <label>
          Name (DE)
          <input id="customName" type="text" required />
        </label>

        <label>
          Name (EN)
          <input id="customNameEn" type="text" required />
        </label>

        <label>
          Muskelgruppen
          <div id="customMuscles" class="check-grid"></div>
        </label>

        <label>
          Equipment-Typ
          <select id="customEquipment"></select>
        </label>

        <label>
          Schwierigkeitsgrad
          <select id="customDifficulty">
            <option>Anfänger</option>
            <option>Fortgeschritten</option>
            <option>Profi</option>
          </select>
        </label>

        <label>
          Beschreibung (DE)
          <textarea id="customDescription" rows="3"></textarea>
        </label>

        <label>
          Description (EN)
          <textarea id="customDescriptionEn" rows="3"></textarea>
        </label>

        <label>
          Anleitung (DE, eine Zeile pro Schritt)
          <textarea id="customInstructions" rows="4"></textarea>
        </label>

        <label>
          Instructions (EN, one line per step)
          <textarea id="customInstructionsEn" rows="4"></textarea>
        </label>

        <div class="modal-actions">
          <button type="button" id="cancelCustomBtn" class="btn btn-secondary">Abbrechen</button>
          <button type="submit" class="btn btn-primary">Übung speichern</button>
        </div>
      </form>
    </div>
  </div>

  <script src="supabase-config.js"></script>
  <script src="app.js" type="module"></script>
</body>
</html>
